import maya.cmds as cmds

def make_rk(objectName):
    
    
	sels = cmds.ls(sl = True)
	Master_ctrl = sels[-1]
	cmds.select (hi = True)
	
	cmds.select(cmds.ls ( sl = True, type = "joint" ))
	
	FK_IK_jnts = cmds.ls (sl = True)#This line used to have RKsels
	
	cmds.hide(sels[0], sels[1])

	#Make the attribute on the master control
	#cmds.addAttr (Master_ctrl, ln = "RK_Switch", at = "double", min = 0, max = 1, dv = 0)
	#cmds.setAttr ((str(Master_ctrl) + ".RK_Switch"), e = True, keyable = True)

	#make the parent constraints to the RK system
	for i in range(len(FK_IK_jnts) / 2):
		#get the first set in the FK_IK_jnts info
		jointOri = cmds.xform(FK_IK_jnts[i], q = True, ro = True, ws = True)
		jointTrans = cmds.joint(FK_IK_jnts[i], q = True, a = True, p = True)
		#Make the joint
		cmds.joint(p = ( jointTrans[0], jointTrans[1], jointTrans[2]), o = ( jointOri[0], jointOri[1], jointOri[2]), n = objectName + "_RK_0" + str(i + 1) + "_jnt")
		cmds.select(deselect = True)# Temp line unless something doesnt make a new selection
		
		#cmds.parentConstraint(RKsels[i], RKsels[(i + ((len(RKsels) - 1) / 3))], RKsels[(i + (2 *((len(RKsels) - 1) / 3)))], mo = True, weight = 1)
		#parentConName = cmds.parentConstraint(RKsels[i], RKsels[(i + ((len(RKsels) - 1) / 3))], RKsels[(i + (2 *((len(RKsels) - 1) / 3)))], q = True, n = True, mo = True, weight = 1)

		#This line makes the reverse node for the Rk connection
		#reverseNodeName = cmds.shadingNode("reverse", asUtility = True, name = (str(objectName) + "_RKrn_0" + str(i + 1)))
		#These lines make the connections in the connection editor to and from a reverse node
		#cmds.connectAttr ((str(Master_ctrl) + ".RK_Switch"), (str(reverseNodeName) + ".inputX"), f = True)
		#cmds.connectAttr ((str(reverseNodeName) + ".outputX"), (parentConName + "." + RKsels[i] + "W0"), f = True)
		#cmds.connectAttr ((str(Master_ctrl) + ".RK_Switch"), (parentConName + "." + RKsels[(i + ((len(RKsels) - 1) / 3))] + "W1"), f = True)
	#if(cmds.objExists(objectName + "_BFK_ctrl_grp")):
	# create the visibilty switch for the controls ie the connection
		#cmds.connectAttr ((str(objectName) + "_RKrn_01" + ".outputX"), objectName + "_BFK_ctrl_grp.visibility", f = True)
		#cmds.connectAttr ((str(Master_ctrl) + ".RK_Switch"), objectName + "_IK_ctrl_grp.visibility", f = True)
		#cmds.delete(objectName + "_BFK_Master_grp")
	#elif(cmds.objExists(objectName + "_FK_ctrl_grp")):
		#cmds.connectAttr ((str(objectName) + "_RKrn_01" + ".outputX"), objectName + "_FK_ctrl_grp.visibility", f = True)
		#cmds.connectAttr ((str(Master_ctrl) + ".RK_Switch"), objectName + "_IK_ctrl_grp.visibility", f = True)
	#else:
		#print("Please make the connections for visibility in the connection editior. Some names may not have been connected properly.")
make_rk("Arm")